(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8164],{91410:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Link=t.cnLink=void 0;var r=n(97582),o=n(87363),a=n(81504);n(6751),t.cnLink=a.cn("Link"),t.Link=function(e){var n=e.as,a=e.children,s=e.controlRef,c=e.disabled,l=e.innerRef,i=e.role,u=(e.pseudo,e.view,r.__rest(e,["as","children","controlRef","disabled","innerRef","role","pseudo","view"])),d=n||(u.href?"a":"span"),f=u.rel;return"_blank"===u.target&&void 0!==f&&-1===f.indexOf("noopener")&&(f+=" noopener"),o.createElement(d,Object.assign(u,{"aria-disabled":c,className:t.cnLink(null,[u.className]),ref:l||s,rel:f,role:i,tabIndex:c?-1:u.tabIndex}),a)},t.Link.displayName=t.cnLink()},52247:function(e,t,n){"use strict";n.d(t,{G:function(){return a}});var r=n(87756),o=n(65476),a=(n(98103),(0,r.withBemMod)((0,o.s)(),{view:"default"}));n(81739)},3604:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(97582);r.__exportStar(n(34331),t),r.__exportStar(n(90713),t)},69008:function(e,t,n){"use strict";n.d(t,{a:function(){return v}});var r=n(97582),o=n(87363),a=n.n(o),s=n(14268),c=n(91410);n(54057);const l=({children:e,passportHost:t,retpath:n,yandexuid:r})=>{const s=(0,o.useMemo)((()=>{const e=new URL("passport",t);return e.searchParams.set("mode","logout"),e.searchParams.set("yu",r),e.searchParams.set("retpath",n),e.href}),[t,n,r]);return a().createElement(c.Link,{className:"a11y-hidden",href:s,tabIndex:-1},e||"Выйти из аккаунта")};n(61270);const i=({counter:e,children:t,innerRef:n,className:r,showPlus:o})=>a().createElement("div",{ref:n,className:["UserID-Badge",r].join(" ")},t,a().createElement("div",{className:"UserID-Badge-Dot"},e,o?"+":""));i.displayName="UserIDBadge",n(44110);const u=(e="https://avatars.mds.yandex.net",t="0/0-0",n)=>`${e}/get-yapic/${t}/${n?"islands-retina-middle":"islands-middle"}`,d=({host:e,avatarId:t,plus:n,child:r,colorScheme:s,className:c,innerRef:l})=>{const[i,d]=(0,o.useState)(!1),f=u(e,t,!1),v=`${f} 1x, ${u(e,t,!0)} 2x`;let p=(0,o.useRef)(null);p=l||p;const h=["UserID-Avatar",c];return n&&h.push("UserID-Avatar_plus"),r&&h.push("UserID-Avatar_child"),"dark"===s&&h.push("UserID-Avatar_colorScheme_dark"),i&&h.push("UserID-Avatar_small"),(0,o.useEffect)((()=>{const e=p.current;if(!window||!r||!e)return;const t=e.getBoundingClientRect().width;d(t<=36)}),[r,p]),a().createElement("div",{className:h.join(" "),ref:p},a().createElement("img",{src:f,className:"UserID-Avatar-Image",srcSet:v}),r&&a().createElement("svg",{className:"UserID-Avatar-ChildStroke",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 300 300"},a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M165.9 37.9822L166.068 38.0049C166.221 38.0257 166.442 38.0562 166.726 38.0968C167.295 38.1778 168.118 38.2987 169.162 38.4618C171.249 38.7878 174.224 39.283 177.813 39.9651C184.975 41.3261 194.666 43.4461 204.678 46.4778C214.632 49.492 225.211 53.4982 233.986 58.7338C242.568 63.8543 250.611 70.8545 253.512 80.3646C262.231 108.946 272.638 153.705 267.746 188.864C263.821 217.084 243.295 239.946 214.374 255.633C185.337 271.383 152.717 277.077 132.993 274.341C113.268 271.605 83.4377 257.247 59.8001 234.191C36.2561 211.225 22.7482 183.642 26.674 155.422C33.0239 109.778 55.8032 71.8059 70.7041 51.2431C76.2121 43.6422 85.9125 39.8089 95.3615 37.7283C105.121 35.5793 116.278 34.95 126.593 35.003C136.965 35.0564 146.789 35.8036 153.998 36.5322C157.61 36.8972 160.584 37.2595 162.664 37.5319C163.704 37.6681 164.522 37.782 165.085 37.8627C165.367 37.903 165.585 37.9351 165.736 37.9575L165.9 37.9822ZM210.975 249.385C238.745 234.322 257.19 213.071 260.694 187.886C265.355 154.381 255.388 110.913 246.701 82.4364C238.203 54.5778 164.895 45.0216 164.895 45.0216C164.895 45.0216 92.1316 33.8026 76.4727 55.4113C61.8934 75.5303 39.8488 112.394 33.7267 156.401C30.2229 181.586 42.1687 207.053 64.7756 229.104C87.5594 251.328 116.05 264.812 133.973 267.298C151.895 269.784 182.987 264.566 210.975 249.385Z"})))};d.displayName="UserIDAvatar",n(56833);const f=s.r,v=(0,o.forwardRef)((({tld:e="ru",children:t,env:n,plus:s,child:c,colorScheme:u,avatarId:v,passportHost:p,onClick:h,onPointerEnter:m,onFocus:g,onKeyUp:y,className:C,classNameBadge:E,fetchMail:b,retpath:w,yandexuid:k,visible:S,i18n:D},_)=>{const[L,U]=(0,o.useState)(0);(0,o.useEffect)((()=>{b&&fetch(`https://mail.yandex.${e}/api/v2/serp/counters?silent`,{credentials:"include"}).then((e=>e.json())).then((e=>U(e.counters.unread))).catch((e=>{}))}),[e,b]);const I=(e=>{const t=(0,o.useRef)(null);(0,o.useImperativeHandle)(e.ref,(()=>({focus:()=>{var e;null===(e=null==t?void 0:t.current)||void 0===e||e.focus()}})));const n=e.tld||"ru";let r=e.passportHost;if(!r)switch(e.env){default:case"prod":r=`https://passport.yandex.${n}`;break;case"test":r=`https://passport-test.yandex.${n}`;break;case"rc":r=`https://passport-rc.yandex.${n}`}const{onClick:a,onKeyUp:s}=e,c=(0,o.useCallback)((e=>{e.preventDefault(),null==a||a(e)}),[a]),l=(0,o.useCallback)((e=>{if(null==s||s(e),"Space"===e.code){e.preventDefault();const t=new MouseEvent("click",{bubbles:!0,cancelable:!0});e.currentTarget.dispatchEvent(t)}}),[s]);return{retpath:e.retpath||`https//yandex.${e.tld}`,yandexuid:e.yandexuid||"",passportHost:r,onAccountClick:c,onAccountKeyUp:l,accountLinkRef:t}})({ref:_,retpath:w,yandexuid:k,passportHost:p,env:n,tld:e,onClick:h,onKeyUp:y}),{onAccountClick:R,onAccountKeyUp:x,accountLinkRef:O}=I,P=(0,r.__rest)(I,["onAccountClick","onAccountKeyUp","accountLinkRef"]);p=P.passportHost,w=P.retpath,k=P.yandexuid;let A=(null==D?void 0:D("Ваш профиль"))||"Ваш профиль";b&&D&&(A+=". "+D("{count} непрочитанных писем",{count:L}));const N=b&&L>0?Math.min(L,99):void 0,M=Boolean(b&&N&&L>N),H=["UserID-Wrapper",C];return c&&H.push("UserID-Wrapper_child"),a().createElement("div",{className:H.join(" ")},a().createElement(f,{className:"UserID-Account",href:p,role:"button","aria-haspopup":"true","aria-expanded":S,"aria-label":A,onPointerEnter:m,onFocus:g,onClick:R,onKeyUp:x,innerRef:O},a().createElement(i,{className:E,counter:N,showPlus:M},a().createElement(d,{host:"test"===n?"https://avatars.mdst.yandex.net":"https://avatars.mds.yandex.net",avatarId:v,plus:s,child:c,colorScheme:u}))),a().createElement(l,{passportHost:p,retpath:w,yandexuid:k},(null==D?void 0:D("Выйти"))||"Выйти"),t)}))},34331:function(e,t,n){"use strict";n.r(t),n.d(t,{User:function(){return a}});var r=n(45593),o=n(69008);n(54832);const a=(0,r.J)(o.a)},16125:function(e,t,n){"use strict";n.r(t),n.d(t,{User:function(){return a}});var r=n(50682),o=n(69008);n(10143);const a=(0,r.v)(o.a)},16889:function(e,t,n){"use strict";n.d(t,{V:function(){return c}});var r=n(87363),o=n.n(r),a=n(81504);n(42607);const s=(0,a.cn)("UserWidget","Dialog"),c=(0,r.forwardRef)(((e,t)=>o().createElement("div",{className:s("Dialog",{visible:e.visible,loading:e.loading,colorScheme:e.colorScheme}),style:{top:e.top,right:e.right},ref:t},e.children)))},90713:function(e,t,n){"use strict";n.r(t),n.d(t,{DesktopDialog:function(){return o.V},withDesktopUserID:function(){return r.J}});var r=n(45593),o=n(16889)},45593:function(e,t,n){"use strict";n.d(t,{J:function(){return a}});var r=n(21564),o=n(16889);function a(e){return(0,r.l)(e,o.V)}},9610:function(e,t,n){"use strict";n.d(t,{V:function(){return u}});var r=n(87363),o=n.n(r),a=n(27964),s=n(13158),c=n(81504);n(93441);const l=(0,c.cn)("UserWidget","Drawer"),i=(0,a.G)(s.d),u=(0,r.forwardRef)(((e,t)=>o().createElement(i,Object.assign({},e,{innerRef:t,keepMounted:!0,view:"default",className:l({colorScheme:e.colorScheme})}),e.children)))},35757:function(e,t,n){"use strict";n.r(t),n.d(t,{TouchDialog:function(){return o.V},withTouchUserID:function(){return r.v}});var r=n(50682),o=n(9610)},50682:function(e,t,n){"use strict";n.d(t,{v:function(){return a}});var r=n(21564),o=n(9610);function a(e){return(0,r.l)(e,o.V)}},21564:function(e,t,n){"use strict";n.d(t,{l:function(){return g}});var r=n(87363),o=n.n(r),a=[],s=null,c=null;function l(){return a[a.length-1]}function i(e,t,n){var r,o,a=l();!a||!a.onClose||n&&n!==a.closeStrategy||"click"===t&&(r=a.refs,o=e.target,r.some((function(e){return e.current instanceof HTMLElement&&e.current.contains(o)})))||a.onClose({nativeEvent:e,source:t})}function u(e){var t=e.key;"Escape"!==t&&"Esc"!==t||i(e,"esc")}function d(e){s=e.target,c=l(),i(e,"click","pressdown")}function f(e){var t=s;s=null;var n=c;c=null,e.button>0||n===l()&&t===e.target&&i(e,"click","pressup")}var v=Object.freeze({count:function(){return a.length},addOverlay:function(e){0===a.length&&(document.addEventListener("keyup",u),document.addEventListener("pointerdown",d,!0),document.addEventListener("click",f,!0)),a.push(e)},removeOverlay:function(e){a.splice(a.indexOf(e),1),0===a.length&&(document.removeEventListener("keyup",u),document.removeEventListener("pointerdown",d,!0),document.removeEventListener("click",f,!0))},getTopOverlayOptions:l});var p=n(81504);n(39073);const h=(0,p.cn)("UserWidget","Content"),m=o().forwardRef(((e,t)=>{const{loading:n,onLoad:r,preload:a,height:s,colorScheme:c,src:l}=e;return o().createElement("div",{className:h({loading:n,colorScheme:c})},a&&o().createElement("div",{className:"UserWidget-IframeContainer",style:{height:s}},o().createElement("iframe",{className:"UserWidget-Iframe",ref:t,src:l,height:n?9999:s,onLoad:r})),n&&o().createElement("div",{className:"UserWidget-Spin"}))}));function g(e,t){var n;const a=n=>{const{onOpen:a,onClose:s}=n,[c,l]=(0,r.useState)(!1),i=(0,r.useCallback)((()=>{l(!0),null==a||a()}),[a]),u=(0,r.useCallback)((()=>{l(!1),null==s||s()}),[s]),{avatarProps:d,contentProps:f,dialogProps:p}=function(e){const{tld:t="ru",host:n,lang:o,colorScheme:a="light",theme:s,flag:c,project:l,retpath:i,env:u="prod",passportHost:d,passportCi:f,yandexuid:p,avatarId:h="0/0-0",plus:m=!1,preload:g=!1,visible:y=!1,queryParams:C,rpcHandlers:E,avatarRef:b,dialogRef:w,iframeRef:k,onMenuItemClick:S,onOpen:D,onClose:_,onClick:L,onPointerEnter:U,onKeyUp:I,onFocus:R,onHeightUpdate:x,onThemeChange:O}=e;let P=(0,r.useRef)(null),A=(0,r.useRef)(null),N=(0,r.useRef)(null);P=null!=b?b:P,A=null!=w?w:A,N=null!=k?k:N;const[M,H]=(0,r.useState)(!0),T=(0,r.useMemo)((()=>"undefined"!=typeof window?i||location.href:i),[i]),j=(0,r.useMemo)((()=>{var e;return p||"undefined"==typeof window?p:null===(e=document.cookie.match(/yandexuid=(\d+)/))||void 0===e?void 0:e[1]}),[p]),[B,K]=(0,r.useState)(g),W=(0,r.useRef)({colorScheme:a,theme:s,retpath:T}),$="https://"+(n||`yandex.${t}`),Z=(0,r.useMemo)((()=>{B||W.current.colorScheme===a&&W.current.theme===s&&W.current.retpath===T||(W.current={colorScheme:a,theme:s,retpath:T});const e=new URL("user-id",$);W.current.retpath&&e.searchParams.set("retpath",W.current.retpath),W.current.colorScheme&&e.searchParams.set("colorScheme",W.current.colorScheme),W.current.theme&&e.searchParams.set("theme",W.current.theme),o&&e.searchParams.set("l10n",o),c&&e.searchParams.set("exp_flags",c),l&&e.searchParams.set("project",l),u&&e.searchParams.set("env",u),d&&e.searchParams.set("passport_host",d),f&&e.searchParams.set("passport_ci",f);for(const t in C)e.searchParams.set(t,C[t]);return e.toString()}),[$,o,c,l,u,d,f,C,a,s,T,B]),[V,F]=(0,r.useState)(),G=(0,r.useCallback)((e=>{var t;(null===(t=A.current)||void 0===t?void 0:t.classList.contains("UserWidget-Dialog"))?F(e):F(Math.min(window.innerHeight,e))}),[F,A]);(0,r.useEffect)((()=>{!B&&g&&K(!0)}),[B,g,K]);const J=(0,r.useCallback)((()=>{var e;null===(e=P.current)||void 0===e||e.focus(),null==_||_()}),[_]),Y=(0,r.useCallback)(((e,t)=>{var n;switch(e.methodCall){case"LOADED":case"HEIGHT_UPDATED":const{height:r}=e.params[0];G(r),null==x||x(r),H(!1);break;case"ITEM_CLICK":const{item:o}=e.params[0];null==S||S(o);break;case"CLOSED":null==J||J();break;case"updateTheme":const{theme:a}=e.params[0];null==O||O(a);break;default:if(!(null==E?void 0:E[e.methodCall]))return;Promise.resolve(null===(n=null==E?void 0:E[e.methodCall])||void 0===n?void 0:n.call(E,...e.params)).then(t)}}),[E,x,S,J,O,G]),{sendMessage:q}=function({loading:e,iframeRef:t,origin:n,rpcHandler:o}){const a=(0,r.useRef)([]),s=(0,r.useCallback)((n=>{var r,o;const s=JSON.stringify(n);e?a.current.push(s):null===(o=null===(r=t.current)||void 0===r?void 0:r.contentWindow)||void 0===o||o.postMessage(s,"*")}),[e,t]),c=(0,r.useCallback)((e=>{if(e.origin!==n)return;let t;try{t=JSON.parse(e.data)}catch(e){return}if(!t.methodCall)return;const r=function(e){switch(e){case"onDataLoad":return"LOADED";case"closeUserID":return"CLOSED";case"updateUserHeight":return"HEIGHT_UPDATED";default:return e}}(t.methodCall);null==o||o(Object.assign(Object.assign({},t),{methodCall:r}),(e=>{var n;s({returnCall:!0,params:[e],resultCallbackIndex:(null===(n=t.resultCallbackIndex)||void 0===n?void 0:n.__callbackId)||-1})}))}),[n,o,s]);return(0,r.useEffect)((()=>(window.addEventListener("message",c),()=>{window.removeEventListener("message",c)})),[c]),(0,r.useEffect)((()=>{t&&!e&&0!==a.current.length&&(a.current.forEach((e=>{var n,r;return null===(r=null===(n=t.current)||void 0===n?void 0:n.contentWindow)||void 0===r?void 0:r.postMessage(e,"*")})),a.current=[])}),[e,t]),{sendMessage:s}}({loading:M,iframeRef:N,origin:$,rpcHandler:Y});(0,r.useEffect)((()=>{q({methodCall:"updateRetpath",params:[{retpath:T}]})}),[T,q]),(0,r.useEffect)((()=>{q({methodCall:"updateTheme",params:[{colorScheme:a,theme:s}]})}),[a,q,s]);const z=(0,r.useCallback)((e=>{q({methodCall:"focusFirst",params:[{fromKeyboard:e}]})}),[q]),Q=(0,r.useCallback)((e=>{null==L||L(e),z(!1),null==D||D()}),[L,z,D]),X=(0,r.useCallback)((e=>{null==I||I(e),z(!0)}),[I,z]),ee=(0,r.useCallback)((e=>{B||K(!0),null==R||R(e)}),[R,B]),te=(0,r.useCallback)((e=>{B||K(!0),null==U||U(e)}),[U,B]);return function(e){var t=e.visible,n=e.onClose,o=e.essentialRefs,a=e.unsafe_strategy,s=void 0===a?"pressdown":a,c=(0,r.useRef)({onClose:n,refs:o,closeStrategy:s});c.current.onClose=n,c.current.refs=o,(0,r.useEffect)((function(){if(t){var e=c.current;return v.addOverlay(e),function(){v.removeOverlay(e)}}}),[t])}({visible:y,onClose:J,essentialRefs:[A]}),{contentProps:{preload:B,loading:M,height:V,colorScheme:a,src:Z,ref:N},dialogProps:{visible:y,colorScheme:a,ref:A},avatarProps:{visible:y,retpath:T,yandexuid:j,avatarId:h,plus:m,env:u,ref:P,onClick:Q,onKeyUp:X,onFocus:ee,onPointerEnter:te}}}(Object.assign(Object.assign({},n),{visible:c,onOpen:i,onClose:u}));return o().createElement(e,Object.assign({},n,d),n.children,o().createElement(t,Object.assign({},p,{onClose:u}),o().createElement(m,Object.assign({},f))))};return a.displayName=`'withUserID(${null!==(n=e.displayName)&&void 0!==n?n:e})'`,a}},12991:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(97582);r.__exportStar(n(16125),t),r.__exportStar(n(35757),t)},67891:function(e,t){var n,r;n=function(e){"use strict";function t(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(e,"__esModule",{value:!0});var n=!1;if("undefined"!=typeof window){var r={get passive(){n=!0}};window.addEventListener("testPassive",null,r),window.removeEventListener("testPassive",null,r)}var o="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),a=[],s=!1,c=-1,l=void 0,i=void 0,u=function(e){return a.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))},d=function(e){var t=e||window.event;return!!u(t.target)||1<t.touches.length||(t.preventDefault&&t.preventDefault(),!1)},f=function(){setTimeout((function(){void 0!==i&&(document.body.style.paddingRight=i,i=void 0),void 0!==l&&(document.body.style.overflow=l,l=void 0)}))};e.disableBodyScroll=function(e,r){if(o){if(!e)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(e&&!a.some((function(t){return t.targetElement===e}))){var f={targetElement:e,options:r||{}};a=[].concat(t(a),[f]),e.ontouchstart=function(e){1===e.targetTouches.length&&(c=e.targetTouches[0].clientY)},e.ontouchmove=function(t){var n,r,o,a;1===t.targetTouches.length&&(r=e,a=(n=t).targetTouches[0].clientY-c,!u(n.target)&&(r&&0===r.scrollTop&&0<a||(o=r)&&o.scrollHeight-o.scrollTop<=o.clientHeight&&a<0?d(n):n.stopPropagation()))},s||(document.addEventListener("touchmove",d,n?{passive:!1}:void 0),s=!0)}}else{p=r,setTimeout((function(){if(void 0===i){var e=!!p&&!0===p.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth;e&&0<t&&(i=document.body.style.paddingRight,document.body.style.paddingRight=t+"px")}void 0===l&&(l=document.body.style.overflow,document.body.style.overflow="hidden")}));var v={targetElement:e,options:r||{}};a=[].concat(t(a),[v])}var p},e.clearAllBodyScrollLocks=function(){o?(a.forEach((function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null})),s&&(document.removeEventListener("touchmove",d,n?{passive:!1}:void 0),s=!1),a=[],c=-1):(f(),a=[])},e.enableBodyScroll=function(e){if(o){if(!e)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");e.ontouchstart=null,e.ontouchmove=null,a=a.filter((function(t){return t.targetElement!==e})),s&&0===a.length&&(document.removeEventListener("touchmove",d,n?{passive:!1}:void 0),s=!1)}else(a=a.filter((function(t){return t.targetElement!==e}))).length||f()}},void 0===(r=n.apply(t,[t]))||(e.exports=r)},84506:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(83878),o=n(59199),a=n(40181),s=n(25267);function c(e){return(0,r.Z)(e)||(0,o.Z)(e)||(0,a.Z)(e)||(0,s.Z)()}}}]);